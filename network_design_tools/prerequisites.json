{
    "version": "0.3.9",
    "layers":{
         "Boundaries": {
             "name": "Boundaries",
             "source": "./Shapefiles/Boundaries.shp",
             "fields": {
                 "type": "Type",
                 "premises": "Premises",
                 "address": "Address",
                 "name": "Name",
                 "loc": "LOC",
                 "comments": "Comments"
             }
         },
         "Premises": {
            "name": "Customer Premises",
            "source": "./Shapefiles/Customer Premises.shp",
            "fields": {
                "uprn": "UPRN",
                "loc": "LOC",
                "locType": "LOC_TYPE",
                "ac": "AC",
                "pn": "PN",
                "sn": "SN",
                "tn": "TN",
                "distance":  "DISTANCE"
            }
        },
        "PropertyCount": {
            "name": "PropertyCount",
            "source": "./Shapefiles/PropertyCount.shp",
            "fields": {
                "Count": "NumProp"
            }
        },
        "BTPole": {
            "name": "BT Pole",
            "source": "./Shapefiles/BT Pole.shp",
            "fields": {
                "id": "OBJECT_ID",
                "plantItem": "PLANT_ITEM"
            }
        },       
        "Cabinet": {
            "name": "Cabinets",
            "source": "./Shapefiles/Cabinets.shp",
            "fields": {
                "id": "cabinet ID",
                "splitters": "Splitters",
                "premises": "premises",
                "comments": "Comments",
                "loc": "LOC",
                "surface": "Surface",
                "use": "Use",
                "address": "Address",
                "rotation": "Rotation"
            }
        },
        "Cable": {
            "name": "Cable",
             "source": "./Shapefiles/Cable.shp",
            "fields": {
                "id": "id",
                "feed": "Feed",
                "type": "Type",
                "use": "Use",
                "name": "Cable name",
                "comments": "Comments",
                "label": "cbl_label",
                "uprn" : "UPRN"
            }
        },
        "Chamber": {
            "name": "Chambers",
            "source": "./Shapefiles/Chamber.shp",
            "fields": {
                "id": "ID",
                "surface": "Surface",
                "use": "Use",
                "state": "State",
                "type": "Type",
                "loc": "LOC",
                "comments": "Comments",
                "x": "X",
                "y": "Y"
            }
        },
        "BTChamber": {
            "name": "BT Chambers",
            "source": "./Shapefiles/BT Chambers.shp"
        },
        "BTDuct": {
            "name": "BT Duct",
            "source": "./Shapefiles/BT Duct.shp",
            "fields": {
                "plantItem": "PLANT_ITEM",
                "leadSpine": "Lead_Spine"
            }
        },
        "Duct": {
            "name": "Duct",
            "source": "./Shapefiles/Duct.shp",
            "fields": {
                "surface": "Surface",
                "material": "Material",
                "7_3.5mm": "7/3.5mm",
                "12_8mm": "12/8mm",
                "110mm": "110mm",
                "comments": "Comments",
                "loc": "LOC"
            }
        },
        "Joint": {
             "name": "Joints",
             "source": "./Shapefiles/Joints.shp",
             "fields": {
                 "id": "Joint ID",
                 "address": "Address",
                 "position": "Position",
                 "size": "Size",
                 "comments": "Comments",
                 "x": "X coord",
                 "y": "Y coord",
                 "loc": "LOC"
             }
         },
         "JUPole": {
            "name": "JU pole",
            "source": "./Shapefiles/Electricity Pole.shp",
            "fields": {
                "id": "id",
                "use": "Use",
                "comments": "Comments"
            }
        },
        "NewPole": {
            "name": "New Pole",
            "source": "./Shapefiles/New Pole.shp",
            "fields": {
                "id": "id",
                "use": "Use",
                "comments": "Comments",
                "newCable": "New_Cabl",
                "r_nr": "R/NR",
                "aux": "auxiliary_",
                "aux1": "auxiliar_1",
                "x": "X",
                "y": "y",
                "fid": "Fid",
                "height": "Height",
                "class": "Class",
                "loc": "LOC"
            }
        },
         "Node": {
            "name": "Nodes",
            "source": "./Shapefiles/Nodes.shp",
            "fields": {
                 "id": "Node ID",
                 "premises": "Premises",
                 "address": "Address",
                 "comments": "Comments",
                 "loc": "LOC",
                 "x": "X",
                 "y": "Y",
                 "use": "Use",
                 "position": "Position",
                 "splitters_1_4": "1_4_split",
                 "splitters_1_8": "1_8_split"
            }
         },
         "SubFeed": {
            "name": "Subscriber Feed",
            "source": "./Shapefiles/Nodes.shp",
            "fields": {
                "id": "id",
                "surface": "Surface",
                "rotation": "Rotation",
                "dropCount": "Drop count",
                "orientation": "Orientatio"
            }
         },
         "TopoArea": {
             "name": "Topographic Area",
             "source": "./Shapefiles/Topographic Area.shp|layername=Topographic Area",
             "fields": {
                 "fid": "fid",
                 "featureCode": "featureCod",
                 "versionNo": "version",
                 "versionDate": "versionDat",
                 "theme": "theme",
                 "calcArea": "calculated",
                 "changeDate": "changeDate",
                 "changeReason": "reasonForC",
                 "descriptiveGroup": "descriptiv",
                 "descriptiveTerm": "descript_1",
                 "make": "make",
                 "physicalLevel": "physicalLe",
                 "physicalPresence": "physicalPr"
             }
         },
         "TopoLine": {
             "name": "Topographicline",
             "source": "./Shapefiles/Topographicline.shp|layername=Topographicline",
             "fields": {
                "fid": "fid",
                "featureCode": "featureCod",
                "versionNo": "version",
                "versionDate": "versionDat",
                "theme": "theme",
                "accuracyOfPosition": "accuracyOf",
                "changeDate": "changeDate",
                "changeReason": "reasonForC",
                "descriptiveGroup": "descriptiv",
                "descriptiveTerm": "descript_1",
                "make": "make",
                "physicalLevel": "physicalLe",
                "physicalPresence": "physicalPr"
             }
         }
    },
    "settings":{
        "BillofQuantities": {
            "headers": ["Item","GroupBy","Buildable", "In LOC", "Total Quantity"],
            "stats": {
                "Stat0": {
                    "Title": "Premises",
                    "Layer": "Customer Premises",
                    "Calculations": {
                        "Calculation0":{"Criteria": "UPRN IS NOT NULL",  "Title": "Premises fed total" }
                    },
                    "SummaryType": "Count"  
                },
                "Stat1": {
                    "Title": "",
                    "Layer": "Cable",
                    "Calculations": {
                        "Calculation0":{"Criteria": "UPRN IS NOT NULL AND Feed = 2 AND Use = 1",  "Title": "Premises aerially fed" },
                        "Calculation1":{"Criteria": "UPRN IS NOT NULL AND Feed = 1 AND Use = 1",  "Title": "Premises U/G fed" }
                    },
                    "SummaryType": "Count"  
                },
                "Stat2": {
                    "Title": "Splitters",
                    "Layer": "Nodes",
                    "Calculations": {
                        "Calculation0":{"Criteria": "\"1_4_split\" IS NOT NULL", "SumField": "1_4_split", "Title": "x1:4" },
                        "Calculation1":{"Criteria": "\"1_8_split\" IS NOT NULL", "SumField": "1_8_split", "Title": "x1:8" }
                    },
                    "SummaryType": "Sum"  
                },
                "Stat3": {
                    "Title": "Cabinets",
                    "Layer": "Cabinets",
                    "Calculations": {
                        "Calculation0":{"Criteria": "Use = 1",  "Title": "AC Cab" }
                    },
                    "SummaryType": "Count"  
                },
            
                "Stat4": {
                    "Title": "Nodes",
                    "GroupTitle": "1:4 Splitter Count",
                    "Layer": "Nodes",
                    "Calculations": {
                        "Calculation0":{"Criteria": "Use = 1 AND Position = 2",  "GroupBy": "1_4_split", "Title": "UGPN" },
                        "Calculation1":{"Criteria": "Use = 1 AND Position = 3",  "GroupBy": "1_4_split", "Title": "ACPN" },
                        "Calculation2":{"Criteria": "Use = 1 AND Position = 1",  "GroupBy": "1_4_split", "Title": "PMPN" },
                        "Calculation3":{"Criteria": "Use = 6 AND \"1_8_split\" = 1",  "GroupBy": "1_4_split", "Title": "MSN 1x1:8" },
                        "Calculation4":{"Criteria": "Use = 6 AND \"1_8_split\" = 2",  "GroupBy": "1_4_split", "Title": "MSN 2x1:8" },
                        "Calculation5":{"Criteria": "Use = 6 AND \"1_8_split\" = 3",  "GroupBy": "1_4_split", "Title": "MSN 3x1:8" },
                        "Calculation6":{"Criteria": "Use = 6 AND \"1_8_split\" = 4",  "GroupBy": "1_4_split", "Title": "MSN 4x1:8" },
                        "Calculation7":{"Criteria": "Use = 6 AND \"1_8_split\" = 5",  "GroupBy": "1_4_split", "Title": "MSN 5x1:8" },
                        "Calculation8":{"Criteria": "Use = 6 AND \"1_8_split\" = 6",  "GroupBy": "1_4_split", "Title": "MSN 6x1:8" },
                        "Calculation9":{"Criteria": "Use = 6 AND \"1_8_split\" = 7",  "GroupBy": "1_4_split", "Title": "MSN 7x1:8" },
                        "Calculation10":{"Criteria": "Use = 6 AND \"1_8_split\" = 8",  "GroupBy": "1_4_split", "Title": "MSN 8x1:8" },
                        "Calculation11":{"Criteria": "Use = 6 AND \"1_8_split\" = 9",  "GroupBy": "1_4_split", "Title": "MSN 9x1:8" },
                        "Calculation12":{"Criteria": "Use = 6 AND \"1_8_split\" = 10",  "GroupBy": "1_4_split", "Title": "MSN 10x1:8" },
                        "Calculation13":{"Criteria": "Use = 6 AND \"1_8_split\" = 11",  "GroupBy": "1_4_split", "Title": "MSN 11x1:8" },
                        "Calculation14":{"Criteria": "Use = 6 AND \"1_8_split\" = 12",  "GroupBy": "1_4_split", "Title": "MSN 12x1:8" },
                        "Calculation15":{"Criteria": "Use = 2 AND \"1_8_split\" = 1",  "GroupBy": "1_4_split", "Title": "UGSN 1x1:8" },
                        "Calculation16":{"Criteria": "Use = 2 AND \"1_8_split\" = 2",  "GroupBy": "1_4_split", "Title": "UGSN 2x1:8" },
                        "Calculation17":{"Criteria": "Use = 3 AND \"1_8_split\" = 1",  "GroupBy": "1_4_split", "Title": "PMSN 1x1:8" },
                        "Calculation18":{"Criteria": "Use = 3 AND \"1_8_split\" = 2",  "GroupBy": "1_4_split", "Title": "PMSN 2x1:8" },
                        "Calculation19":{"Criteria": "Use = 3 AND \"1_8_split\" = 3",  "GroupBy": "1_4_split", "Title": "PMSN 3x1:8" },
                        "Calculation20":{"Criteria": "Use = 5",  "Title": "UGCE" },
                        "Calculation21":{"Criteria": "Use = 4",  "Title": "PMCE" },
                        "Calculation22":{"Criteria": "Use = 7",  "Title": "MCE" }
                    },
                    "SummaryType": "Count"
                },
            
                "Stat5": {
                    "Title": "PIA Rental - Poles",
                    "Layer": "BT Pole",
                    "Calculations": {
                        "Calculation0":{"Criteria": "Use = 3",  "Title": "Carrier" },
                        "Calculation1":{"Criteria": "Use IN (1, 2, 4)",  "Title": "Pole top equipment" }
                    },
                    "SummaryType": "Count"  
                },

                "Stat5a": {
                    "Title": "",
                    "Layer": "Cable",
                    "Calculations": {
                        "Calculation0":{"Criteria": "\"V_Length\" > 0",  "Multiplier": 0.1, "SumField": "V_Length", "Title": "Cable up a pole (per cable)" }
                    },
                    "SummaryType": "Sum"
                },

                "Stat5b": {
                    "Title": "",
                    "Layer": "JU pole",
                    "Calculations": {
                        "Calculation3":{"Title": "JU pole" }
                    },
                    "SummaryType": "Count"  
                },

                "Stat6": {
                    "Title": "PIA Rental - Ducts",
                    "Layer": "BT Duct",
                    "Calculations": {
                        "Calculation0":{"Criteria": "Lead_Spine = 'Spine'",  "Title": "Facility in spine duct" },
                        "Calculation1":{"Criteria": "Lead_Spine = 'Lead in'",  "Title": "Facility in lead in duct" }
                    },
                    "SummaryType": "Count"  
                },

                "Stat7": {
                    "Title": "PIA Rental - Chambers",
                    "Layer": "BT Chambers",
                    "Calculations": {
                        "Calculation0":{"Criteria": "Use = 'Pass through'",  "Title": "BT chambers utilised (total)" },
                        "Calculation1":{"Criteria": "Use = 'Equipment hosting'",  "Title": "BT chambers utilised (hosting)" }
                    },
                    "SummaryType": "Count"  
                },

                "Stat8": {
                    "Title": "New Civils",
                    "Layer": "Duct",
                    "Calculations": {
                        "Calculation0":{"Criteria": "\"7/3.5mm\" IS NOT NULL AND Surface = 'Verge'",  "Title": "Narrow trench in verge" },
                        "Calculation1":{"Criteria": "\"7/3.5mm\" IS NOT NULL AND Surface = 'FW' AND Material = 2",  "Title": "Narrow trench in FW- Unmade" },
                        "Calculation2":{"Criteria": "\"7/3.5mm\" IS NOT NULL AND Surface = 'FW' AND Material = 3",  "Title": "Narrow trench in FW- Tarmac" },
                        "Calculation3":{"Criteria": "\"7/3.5mm\" IS NOT NULL AND Surface = 'FW' AND Material = 4",  "Title": "Narrow trench in FW- Concrete" },
                        "Calculation4":{"Criteria": "\"7/3.5mm\" IS NOT NULL AND Surface = 'FW' AND Material = 5",  "Title": "Narrow trench in FW- Modular" },
                        "Calculation5":{"Criteria": "\"7/3.5mm\" IS NOT NULL AND Surface = 'CW' AND Material = 2",  "Title": "Narrow trench in CW- Unmade" }, 
                        "Calculation6":{"Criteria": "\"7/3.5mm\" IS NOT NULL AND Surface = 'CW' AND Material = 3",  "Title": "Narrow trench in CW- Tarmac" },
                        "Calculation7":{"Criteria": "\"7/3.5mm\" IS NOT NULL AND Surface = 'CW' AND Material = 4",  "Title": "Narrow trench in CW- Concrete" },
                        "Calculation8":{"Criteria": "\"7/3.5mm\" IS NOT NULL AND Surface = 'CW' AND Material = 5",  "Title": "Narrow trench in CW- Modular" }, 
                        "Calculation9":{"Criteria": "\"110mm\" IS NOT NULL AND Surface = 'CW' AND Material = 2",  "Title": "Traditional trench in CW- Unmade" },
                        "Calculation10":{"Criteria": "\"110mm\" IS NOT NULL AND Surface = 'CW' AND Material = 3",  "Title": "Traditional trench in CW- Tarmac" },
                        "Calculation11":{"Criteria": "\"110mm\" IS NOT NULL AND Surface = 'CW' AND Material = 4",  "Title": "Traditional trench in CW- Concrete" }, 
                        "Calculation12":{"Criteria": "\"110mm\" IS NOT NULL AND Surface = 'CW' AND Material = 5",  "Title": "Traditional trench in CW- Modular" }
                    },
                    "SummaryType": "Length"
                },

                "Stat9": {
                    "Title": "",
                    "Layer": "Duct",
                    "Calculations": {
                        "Calculation0":{"Criteria": "Surface = 'Road Crossing'",  "Title": "Narrow trench in verge" }
                    },
                    "SummaryType": "Count"
                },
            
                "Stat10": {
                    "Title": "Chambers",
                    "Layer": "Chambers",
                    "Calculations": {
                        "Calculation0":{"Criteria": "Type = 1 AND Surface = 'Verge'",  "Title": "FW2 in Verge" },
                        "Calculation1":{"Criteria": "Type = 1 AND Surface = 'Footway'",  "Title": "FW2 in Footway" },
                        "Calculation2":{"Criteria": "Type = 2 AND Surface = 'Verge'",  "Title": "FW4 in Verge" },
                        "Calculation3":{"Criteria": "Type = 2 AND Surface = 'Footway'",  "Title": "FW4 in Footway" },
                        "Calculation4":{"Criteria": "Type = 3 AND Surface = 'Verge'",  "Title": "FW6 in Verge" },
                        "Calculation5":{"Criteria": "Type = 3 AND Surface = 'Footway'",  "Title": "FW6 in Footway" }, 
                        "Calculation6":{"Criteria": "Type = 4 AND Surface = 'Verge'",  "Title": "FW10 in Verge" },
                        "Calculation7":{"Criteria": "Type = 4 AND Surface = 'Footway'",  "Title": "FW10 in Footway" },
                        "Calculation8":{"Criteria": "Type = 5",  "Title": "CW1" }
                    }, 
                    "SummaryType": "Count"  
                },

                "Stat11": {
                    "Title": "",
                    "Layer": "Subscriber Feed",
                    "Calculations": {
                        "Calculation9":{"Criteria": "Surface = 'Verge'",  "Title": "Subscriber feeds in Verge" },
                        "Calculation10":{"Criteria": "Surface = 'Footway'",  "Title": "Subscriber feeds in FW" },
                        "Calculation11":{"Criteria": "Surface = 'Carriageway'",  "Title": "Subscriber feeds in CW" }
                    }, 
                    "SummaryType": "Count"  
                },

                "Stat12": {
                    "Title": "",
                    "Layer": "Gel Wrap",
                    "Calculations": {
                        "Calculation0":{"Title": "Gel wrap" }
                    },
                    "SummaryType": "Count"  
                },

                "Stat13": {
                    "Title": "BT Duct",
                    "Layer": "BT Duct",
                    "Calculations": {
                        "Calculation0":{"Criteria": "\"25mm_count\" IS NOT NULL",  "Title": "25mm multi 6 way Sub Duct" },
                        "Calculation1":{"Criteria": "\"12mm_count\" IS NOT NULL",  "Title": "12/8mm" },
                        "Calculation2":{"Criteria": "\"7mm_count\" IS NOT NULL",  "Title": "7/3.5mm" }
                    },
                    "SummaryType": "Length"
                },

                "Stat14": {
                    "Title": "Duct",
                    "Layer": "Duct",
                    "Calculations": {
                        "Calculation0":{"Criteria": "\"110mm\" IS NOT NULL",  "Title": "110mm" },
                        "Calculation1":{"Criteria": "\"12/8mm\" IS NOT NULL",  "Title": "12/8mm" },
                        "Calculation2":{"Criteria": "\"7/3.5mm\" IS NOT NULL",  "Title": "7/3.5mm" }
                    },
                    "SummaryType": "Length"
                },

                "Stat15": {
                    "Title": "Joints",
                    "Layer": "Joints",
                    "Calculations": {
                        "Calculation0":{"Criteria": "Position = 1 AND Size = '144F'",  "Title": "144F UG" },
                        "Calculation1":{"Criteria": "Position = 1 AND Size = '96F'",  "Title": "96F UG" },
                        "Calculation2":{"Criteria": "Position = 1 AND Size = '48F'",  "Title": "48F UG" },
                        "Calculation3":{"Criteria": "Position = 2 AND Size = '48F'",  "Title": "48F PM" }
                    },
                    "SummaryType": "Count"  
                },
                
                "Stat16": {
                    "Title": "Cable Quantities",
                    "Layer": "Cable",
                    "Calculations": {
                        "Calculation0":{"Criteria": "Feed = 1 AND Type = 6",  "Title": "144F Cable U/G" },
                        "Calculation1":{"Criteria": "Feed = 1 AND Type = 5",  "Title": "96F Cable U/G" },
                        "Calculation2":{"Criteria": "Feed = 1 AND Type = 4",  "Title": "48F Cable U/G" },
                        "Calculation3":{"Criteria": "Feed = 2 AND Type = 4",  "Title": "48F Cable Aerial" },
                        "Calculation4":{"Criteria": "Feed = 1 AND Type = 2",  "Title": "12F Cable U/G" },
                        "Calculation5":{"Criteria": "Feed = 1 AND Type = 1",  "Title": "1F Drop Cable U/G" },
                        "Calculation6":{"Criteria": "Feed = 2 AND Type = 1",  "Title": "1F Drop Cable Aerial" }
                    },
                    "SummaryType": "Length"
                },

                "Stat17": {
                    "Title": "Poles",
                    "Layer": "New pole",
                    "Calculations": {
                        "Calculation0":{"Criteria": "Height = '8m' AND Class = 'L'",  "Title": "8m Poles Light" },
                        "Calculation1":{"Criteria": "Height = '8m' AND Class = 'M'",  "Title": "8m Poles Medium" },
                        "Calculation2":{"Criteria": "Height = '8m' AND Class = 'S'",  "Title": "8m Poles Stout" },
                        "Calculation3":{"Criteria": "Height = '9m' AND Class = 'L'",  "Title": "9m Poles Light" },
                        "Calculation4":{"Criteria": "Height = '9m' AND Class = 'M'",  "Title": "9m Poles Medium" },
                        "Calculation5":{"Criteria": "Height = '9m' AND Class = 'S'",  "Title": "9m Poles Stout" },
                        "Calculation6":{"Criteria": "Height = '10m' AND Class = 'L'",  "Title": "10m Poles Light" },
                        "Calculation7":{"Criteria": "Height = '10m' AND Class = 'M'",  "Title": "10m Poles Medium" },
                        "Calculation8":{"Criteria": "Height = '10m' AND Class = 'S'",  "Title": "10m Poles Stout" },
                        "Calculation9":{"Criteria": "Height = '11m' AND Class = 'L'",  "Title": "11m Poles Light" },
                        "Calculation10":{"Criteria": "Height = '11m' AND Class = 'M'",  "Title": "11m Poles Medium" },
                        "Calculation11":{"Criteria": "Height = '11m' AND Class = 'S'",  "Title": "11m Poles Stout" },
                        "Calculation12":{"Criteria": "Height = '12m' AND Class = 'L'",  "Title": "12m Poles Light" },
                        "Calculation13":{"Criteria": "Height = '12m' AND Class = 'M'",  "Title": "12m Poles Medium" },
                        "Calculation14":{"Criteria": "Height = '12m' AND Class = 'S'",  "Title": "12m Poles Stout" }
                    },
                    "SummaryType": "Count" 
                }
            }
        },
        "connectNodeLayers": ["Cabinet","Node","Joint"],
        "graphvizBinPath": "C:/Program Files/Graphviz/bin",
        "nodeUseBdryTypeLUT": {"1":"1", "2":"2", "3":"3", "4":"5", "5":"4"},
        "premisesAddressFields": ["ORG_NAME", "SUB_BLDG", "BLDG_NAME", "BLDG_NUM", "STREET", "LOCALITY", "POST_TOWN", "POSTCODE"],
        "releaseSheetFieldIndexList": "0,1,3,5,6,7,8,9,10,11,15,16,17,18,19,20,23",
        "ugDropSnapLayers": ["BT Duct", "Duct"]
    }
}